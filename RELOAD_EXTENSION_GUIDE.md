# 扩展重新加载指南

## 重要提示

由于我们修复了Content Script的代码，需要重新加载Chrome扩展才能使修复生效。

## 重新加载步骤

### 1. 打开Chrome扩展管理页面
- 在Chrome地址栏输入：`chrome://extensions/`
- 或者点击Chrome菜单 → 更多工具 → 扩展程序

### 2. 找到JianCareer AutoFill扩展
- 在扩展列表中找到"JianCareer AutoFill - 智能自动填表助手"
- 确保扩展处于"已启用"状态

### 3. 重新加载扩展
- 点击扩展卡片上的"刷新"按钮（🔄图标）
- 或者先关闭扩展，然后重新启用

### 4. 验证扩展加载
- 检查扩展是否显示"错误"标识
- 如果有错误，点击"错误"查看详细信息
- 确保没有语法错误或加载问题

### 5. 刷新测试页面
- 回到测试页面：`http://localhost:8000/simple-test.html`
- 按F5刷新页面
- 或者关闭标签页重新打开

## 测试验证

### 1. 环境检测
- 页面加载后应该显示"✅ Chrome扩展环境检测成功"
- Console中应该看到"Content Script已注入"的日志

### 2. 通信测试
- 点击"Ping测试"按钮
- 应该看到"Ping测试成功"的结果
- Console中应该有相应的日志输出

### 3. 检测测试
- 点击"检测测试"按钮
- 应该看到"检测测试成功"的结果
- 会显示检测到的表单信息

### 4. 自动填写测试
- 点击"测试自动填写"按钮
- 表单字段应该被自动填入测试数据
- 应该看到"自动填写测试成功"的结果

## 常见问题

### 问题1：扩展加载失败
**解决方案：**
- 检查manifest.json语法是否正确
- 查看扩展错误详情
- 确保所有文件路径正确

### 问题2：Content Script未注入
**解决方案：**
- 确保扩展已重新加载
- 检查content_scripts配置
- 刷新测试页面

### 问题3：通信仍然失败
**解决方案：**
- 打开浏览器开发者工具(F12)
- 查看Console标签页的错误信息
- 检查Network标签页是否有请求失败

## 预期结果

成功修复后，你应该看到：

1. **环境检测成功**
   ```
   ✅ Chrome扩展环境检测成功
   [时间] Chrome扩展环境检测成功
   [时间] Content Script已注入
   ```

2. **Ping测试成功**
   ```
   Ping测试成功 (XXXms)
   [时间] 收到消息: {"type":"JC_PONG",...}
   ```

3. **检测测试成功**
   ```
   检测测试成功 (XXXms)
   [时间] 检测测试成功，耗时: XXXms，结果: {...}
   ```

4. **自动填写成功**
   - 表单字段被正确填入
   - 显示"自动填写测试成功"

## 下一步

如果所有测试都通过，说明通信问题已经解决。你可以：

1. 测试原始的debug-autofill.html页面
2. 在实际的求职网站上测试扩展功能
3. 验证popup界面的一键填写功能

---

**注意：每次修改扩展代码后都需要重新加载扩展才能生效！**