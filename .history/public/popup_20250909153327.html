<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JianCareer AutoFill</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 320px;
      height: 480px;
    }

    .popup-container {
      width: 320px;
      height: 480px;
      padding: 20px;
    }

    /* ä¿ç•™å¿…è¦çš„ç»„ä»¶ç‰¹å®šæ ·å¼ */

    /* çŠ¶æ€åŒºåŸŸæ ·å¼ç”±å¤–éƒ¨CSSå¤„ç† */

    /* ä¸»å†…å®¹åŒºåŸŸæ ·å¼ç”±å¤–éƒ¨CSSå¤„ç† */

    .button-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      align-self: stretch;
      justify-content: center;
      row-gap: 8px;
    }

    .btn {
      display: flex;
      align-items: center;
      align-self: stretch;
      justify-content: center;
      column-gap: 8px;
      border-radius: 10px;
      padding: 5px 40px;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: Inter, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", SimHei, Arial, Helvetica, sans-serif;
      font-size: 12px;
      line-height: 15px;
      letter-spacing: 0;
      color: #303030;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn-primary {
      background: #ffea04;
      color: #303030;
    }

    .btn-secondary {
      background: #ffffff;
      color: #303030;
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .btn:disabled:hover {
      transform: none;
      box-shadow: none;
    }

    .input-group {
      display: inline-flex;
      flex-direction: column;
      align-items: flex-start;
      align-self: stretch;
      margin-right: -9px;
      margin-left: -9px;
      row-gap: 5px;
    }

    .input-field {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      align-self: stretch;
      border-radius: 10px;
      box-shadow: 1px 1px 2px 0px #00000040;
      background: #f7f8fa;
      padding: 5px 10px;
      row-gap: 2px;
    }

    .input-label {
      align-self: stretch;
      letter-spacing: 0;
      color: #a9a9a9;
      font-size: 10px;
      font-weight: 300;
    }

    .input-placeholder {
      align-self: stretch;
      line-height: 12px;
      letter-spacing: 0;
      color: #303030;
      font-size: 10px;
      font-weight: 300;
      border: none;
      background: transparent;
      outline: none;
    }

    .user-info {
      display: flex;
      align-items: center;
      align-self: stretch;
      padding-right: 1px;
      padding-left: 1px;
    }

    .username {
      margin: 0px 0px 0px 6px;
      width: 72px;
      height: 9px;
      letter-spacing: 0;
      color: #303030;
      font-size: 10px;
      font-weight: 300;
    }

    .user-menu {
      margin-left: 53px;
      width: 13px;
      height: 13px;
      cursor: pointer;
    }

    .resume-selector {
      display: flex;
      align-items: center;
      align-self: stretch;
      justify-content: space-between;
      background: #f9f9f9;
      padding: 2px 9px 2px 12px;
      min-width: 120px;
      height: 21px;
      border-radius: 4px;
      cursor: pointer;
    }

    .resume-text {
      display: flex;
      align-items: center;
      width: 79px;
      height: 17px;
      letter-spacing: 0;
      color: #303030;
      font-size: 10px;
    }

    .dropdown-arrow {
      width: 10px;
      height: 4px;
    }

    .footer {
      display: inline-flex;
      align-items: center;
      align-self: stretch;
      justify-content: flex-end;
      column-gap: 5px;
      margin-right: 59px;
      margin-left: 59px;
    }

    .feedback-icon {
      width: 6px;
      height: 6px;
    }

    .feedback-text {
      line-height: 10px;
      letter-spacing: 0;
      color: #00b0c2;
      font-size: 8px;
      cursor: pointer;
      text-decoration: none;
    }

    .feedback-text:hover {
      text-decoration: underline;
    }

    /* çŠ¶æ€ 4: è‡ªåŠ¨å¡«å†™ä¸­æ ·å¼ */
    .loading-section {
      text-align: center;
      padding: 20px 0;
    }

    .loading-animation {
      margin-bottom: 16px;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #00bcd4;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .progress-text {
      color: #666;
      font-size: 14px;
      margin: 8px 0;
    }

    .progress-bar-container {
      width: 100%;
      height: 6px;
      background-color: #f0f0f0;
      border-radius: 3px;
      margin: 12px 0;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background-color: #00bcd4;
      border-radius: 3px;
      transition: width 0.3s ease;
      width: 0%;
    }

    .resume-version {
      color: #888;
      font-size: 12px;
      margin-top: 8px;
    }

    /* çŠ¶æ€ 5: å¡«å†™æˆåŠŸæ ·å¼ */
    .success-section {
      text-align: center;
      padding: 20px 0;
    }

    .success-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .success-message {
      text-align: center;
      padding: 20px;
      background: linear-gradient(135deg, #e8f5e8 0%, #f0f9f0 100%);
      border-radius: 12px;
      margin-bottom: 16px;
      border: 1px solid #c3e6c3;
    }

    .success-text {
      font-size: 18px;
      font-weight: 600;
      color: #2d5a2d;
      margin-bottom: 8px;
    }

    .success-subtitle {
      font-size: 14px;
      color: #5a7a5a;
    }

    .success-stats {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 16px;
      text-align: center;
      font-size: 14px;
      color: #333;
    }

    .success-stats div:first-child {
      font-weight: 600;
      color: #28a745;
    }

    /* çŠ¶æ€ 6: å¡«å†™å¤±è´¥æ ·å¼ */
    .error-section {
      text-align: center;
      padding: 20px 0;
    }

    .error-container {
      text-align: center;
      padding: 20px;
      background: linear-gradient(135deg, #ffeaea 0%, #fff5f5 100%);
      border-radius: 12px;
      margin-bottom: 16px;
      border: 1px solid #f5c6c6;
    }

    .error-icon {
      font-size: 48px;
      margin-bottom: 12px;
    }

    .error-message {
      font-size: 18px;
      font-weight: 600;
      color: #d32f2f;
      margin-bottom: 8px;
    }

    .error-detail {
      font-size: 14px;
      color: #7a4a4a;
      line-height: 1.4;
    }

    .error-actions {
      margin-top: 16px;
    }

    .error-actions .btn {
      margin-bottom: 8px;
    }

    /* çŠ¶æ€ 7: é€€å‡ºç™»å½•æ ·å¼ */
    .logout-container {
      text-align: center;
      padding: 40px 20px;
      background: linear-gradient(135deg, #f0f4ff 0%, #f8faff 100%);
      border-radius: 12px;
      margin: 20px 0;
      border: 1px solid #d1e7ff;
    }

    .logout-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .logout-title {
      font-size: 18px;
      font-weight: 600;
      color: #1976d2;
      margin-bottom: 12px;
    }

    .logout-message {
      font-size: 14px;
      color: #333;
      margin-bottom: 8px;
      line-height: 1.4;
    }

    .logout-subtitle {
      font-size: 12px;
      color: #666;
      font-style: italic;
    }

    /* é€šç”¨æ ·å¼ */
    .state-content {
      padding: 16px;
    }

    .user-section {
      margin-bottom: 20px;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .user-avatar {
      font-size: 20px;
    }

    .username {
      font-weight: 500;
      color: #333;
    }

    .welcome-section {
      text-align: center;
      margin-bottom: 24px;
    }

    .welcome-section h2 {
      color: #333;
      margin-bottom: 8px;
      font-size: 18px;
    }

    .welcome-section p {
      color: #666;
      font-size: 14px;
    }

    .login-section {
      padding: 0;
    }

    .back-btn {
      background: none;
      border: none;
      color: #00bcd4;
      font-size: 14px;
      cursor: pointer;
      margin-bottom: 16px;
      padding: 4px 0;
    }

    .back-btn:hover {
      color: #0097a7;
    }

    .login-form {
      margin-bottom: 16px;
    }

    .input-group {
      margin-bottom: 16px;
    }

    .form-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      box-sizing: border-box;
    }

    .form-input:focus {
      outline: none;
      border-color: #00bcd4;
    }

    .form-select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      background-color: white;
      box-sizing: border-box;
    }

    .login-footer {
      text-align: center;
    }

    .link-text {
      color: #00bcd4;
      text-decoration: none;
      font-size: 14px;
    }

    .link-text:hover {
      text-decoration: underline;
    }

    .resume-section {
      margin-bottom: 20px;
    }

    .action-section {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .btn-full {
      width: 100%;
    }

    .btn-link {
      background: none;
      color: #00bcd4;
      border: 1px solid #00bcd4;
    }

    .btn-link:hover {
      background-color: #00bcd4;
      color: white;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div class="popup-container">
    <div class="header">
      <div class="logo">
        <img src="icons/icon-16.svg" alt="JianCareer" width="16" height="16">
        <span>ç®€èŒ</span>
      </div>
      <div class="header-controls">
        <div class="control-icon" title="è®¾ç½®">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 10v6m11-7h-6m-10 0H1m15.5-6.5L19 4.5m-14 14L7.5 16M16.5 7.5L19 4.5m-14 14L7.5 16"></path>
          </svg>
        </div>
        <div class="control-icon" title="å¸®åŠ©">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
            <point cx="12" cy="17" r="1"></point>
          </svg>
        </div>
        <div class="control-icon" title="å…³é—­">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </div>
      </div>
    </div>

    <!-- çŠ¶æ€æ˜¾ç¤ºåŒºåŸŸ -->
    <div id="status-section" class="status-section">
      <span id="status-text">è¯·ç™»å½•</span>
    </div>

    <!-- çŠ¶æ€ 1: æœªç™»å½•é¦–é¡µ -->
    <div id="state-1" class="state-content">
      <div class="welcome-section">
        <h2>æ¬¢è¿ä½¿ç”¨ç®€èŒ</h2>
        <p>ä¸€é”®å¡«å†™æ±‚èŒä¿¡æ¯ï¼Œè®©æ±‚èŒæ›´ç®€å•</p>
      </div>
      
      <div class="button-group">
        <button id="login-btn" class="btn btn-primary">ç™»å½•</button>
        <button id="register-btn" class="btn btn-secondary">æ³¨å†Œ</button>
        <button id="website-btn" class="btn btn-link">è®¿é—®å®˜ç½‘</button>
      </div>
    </div>

    <!-- çŠ¶æ€ 2: ç™»å½•è¾“å…¥é¡µ -->
    <div id="state-2" class="state-content hidden">
      <div class="login-section">
        <button id="back-btn" class="back-btn">â† è¿”å›</button>
        <h3>ç™»å½•è´¦æˆ·</h3>
        
        <form id="login-form" class="login-form">
          <div class="input-group">
            <label class="input-label">æ‰‹æœºå·/é‚®ç®±</label>
            <input type="text" id="username" class="form-input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·æˆ–é‚®ç®±" required>
          </div>
          
          <div class="input-group">
            <label class="input-label">å¯†ç </label>
            <input type="password" id="password" class="form-input" placeholder="è¯·è¾“å…¥å¯†ç " required>
          </div>
          
          <button type="submit" id="submit-login-btn" class="btn btn-primary btn-full">ç™»å½•</button>
        </form>
        
        <div class="login-footer">
          <a href="#" class="link-text">å¿˜è®°å¯†ç ï¼Ÿ</a>
        </div>
      </div>
    </div>

    <!-- çŠ¶æ€ 3: å·²ç™»å½•ä¸»é¡µ -->
    <div id="state-3" class="state-content hidden">
      <div class="user-section">
        <div class="user-info">
          <div class="user-avatar">ğŸ‘¤</div>
          <span id="username-display" class="username">user6687331s</span>
        </div>
      </div>
      
      <div class="resume-section">
        <div class="resume-selector">
          <label class="input-label">é€‰æ‹©ç®€å†ç‰ˆæœ¬</label>
          <select id="resume-selector" class="form-select">
            <option value="resume-a">ç®€å†ç‰ˆæœ¬ A - æ±‚èŒç®€å†</option>
            <option value="resume-b">ç®€å†ç‰ˆæœ¬ B - å®ä¹ ç®€å†</option>
            <option value="resume-c">ç®€å†ç‰ˆæœ¬ C - é¡¹ç›®ç®€å†</option>
          </select>
        </div>
      </div>
      
      <div class="action-section">
        <button id="autofill-btn" class="btn btn-primary btn-full">ä¸€é”®å¡«å…¥</button>
        <button id="profile-btn" class="btn btn-secondary btn-full">ä¿®æ”¹/æŸ¥çœ‹èµ„æ–™</button>
      </div>
    </div>

    <!-- çŠ¶æ€ 4: è‡ªåŠ¨å¡«å†™ä¸­ -->
    <div id="state-4" class="state-content hidden">
      <div class="user-section">
        <div class="user-info">
          <div class="user-avatar">ğŸ‘¤</div>
          <span id="username-display-4" class="username">user6687331s</span>
        </div>
      </div>
      
      <div class="loading-section">
        <div class="loading-animation">
          <div class="spinner"></div>
        </div>
        <h3>æ­£åœ¨ä¸€é”®å¡«å†™...</h3>
        <p id="progress-text" class="progress-text">æ­£åœ¨åˆ†æè¡¨å•...</p>
        
        <div class="progress-bar-container">
          <div id="progress-bar" class="progress-bar"></div>
        </div>
        
        <p id="resume-version-text" class="resume-version">ä½¿ç”¨ï¼šç®€å†ç‰ˆæœ¬ A</p>
      </div>
    </div>

    <!-- çŠ¶æ€ 5: ä¸€é”®å¡«å…¥æˆåŠŸ -->
    <div id="state-5" class="state-content" style="display: none;">
      <div class="success-message">
        <div class="success-icon">âœ…</div>
        <div class="success-text">å·²è‡ªåŠ¨å¡«å†™æˆåŠŸ</div>
        <div class="success-subtitle">ç®€å†ä¿¡æ¯å·²æˆåŠŸå¡«å…¥è¡¨å•</div>
      </div>
      <div class="success-stats">
        <!-- åŠ¨æ€å¡«å……æˆåŠŸç»Ÿè®¡ä¿¡æ¯ -->
      </div>
      <div class="resume-info">
        <span class="resume-label">ä½¿ç”¨ç®€å†ï¼š</span>
        <span class="resume-name">ç®€å†A - æ±‚èŒç‰ˆæœ¬</span>
      </div>
      <div class="button-group">
        <button id="close-success-btn" class="btn btn-secondary btn-full">å…³é—­</button>
      </div>
    </div>

    <!-- çŠ¶æ€ 6: ä¸€é”®å¡«å…¥å¤±è´¥ -->
    <div id="state-6" class="state-content" style="display: none;">
      <div class="error-container">
        <div class="error-icon">âŒ</div>
        <div class="error-message">å¡«å†™å¤±è´¥ï¼Œè¯·é‡è¯•</div>
        <div class="error-detail">è¯·æ£€æŸ¥è¡¨å•æˆ–ä¿®æ”¹èµ„æ–™åé‡è¯•</div>
      </div>
      <div class="resume-info">
        <span class="resume-label">ä½¿ç”¨ç®€å†ï¼š</span>
        <span class="resume-name">ç®€å†A - æ±‚èŒç‰ˆæœ¬</span>
      </div>
      <div class="button-group">
        <button id="retry-autofill-btn" class="btn btn-primary btn-full">é‡è¯•</button>
        <button id="edit-profile-btn" class="btn btn-secondary btn-full" style="display: none;">ä¿®æ”¹èµ„æ–™</button>
        <button id="close-error-btn" class="btn btn-secondary btn-full">å…³é—­</button>
      </div>
    </div>

    <!-- çŠ¶æ€ 7: é€€å‡ºç™»å½• -->
    <div id="state-7" class="state-content" style="display: none;">
      <div class="logout-container">
        <div class="logout-icon">ğŸ‘‹</div>
        <div class="logout-title">æ‚¨å·²é€€å‡ºç™»å½•</div>
        <div class="logout-message">æ‚¨å·²æˆåŠŸé€€å‡ºç™»å½•ï¼Œæ„Ÿè°¢ä½¿ç”¨ç®€èŒæ¶¯ï¼</div>
        <div class="logout-subtitle">2ç§’åå°†è‡ªåŠ¨è¿”å›é¦–é¡µ</div>
      </div>
    </div>

    <div class="footer">
      <div class="feedback-icon">
        <svg width="6" height="6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
          <point cx="12" cy="17" r="1"></point>
        </svg>
      </div>
      <a href="#" class="feedback-text">æ„è§åé¦ˆ</a>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>